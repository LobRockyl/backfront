{"ast":null,"code":"var _jsxFileName = \"/Users/purnashishazra/simple-node-crud-server/simple-node-crud-client/src/components/CardList.jsx\",\n    _s = $RefreshSig$();\n\n/* eslint-disable react/prop-types */\nimport React, { useState, useEffect, useRef } from 'react';\nimport Card from '../elements/Card';\nimport Loading from '../elements/Loading';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CardList(_ref) {\n  _s();\n\n  let {\n    page = 1,\n    Maindata,\n    setMaindata,\n    setcount\n  } = _ref;\n  const [data, setdata] = useState([]);\n  const [isloading, setisloading] = useState(false);\n  const prevPage = useRef(page);\n  useEffect(() => {\n    if (Maindata.length > 0 && prevPage.current === page) {\n      setdata(Maindata);\n    } else {\n      prevPage.current = page;\n      FetchData();\n    }\n  }, [Maindata, page]);\n  useEffect(() => {\n    if (data.length <= 0) return;\n    setMaindata(data);\n  }, [data]);\n\n  const FetchData = async () => {\n    setisloading(true);\n    const res = await fetch(`https://backend-lobrockyl.herokuapp.com/?page=${page}`);\n    const result = await res.json();\n\n    if (result.success) {\n      setdata(result.images);\n      setcount(result.pages);\n    }\n\n    setisloading(false);\n  };\n\n  if (isloading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center border-2 min-h-screen\",\n      children: /*#__PURE__*/_jsxDEV(Loading, {\n        text: \"Loading Images\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-12 mx-auto px-4 md:px-12\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-3 \",\n      children: [data.length > 0 && data.map(value => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            id: value._id,\n            name: value.ImgName,\n            image: value.ImgURL,\n            detail: value.ImgDetails\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 17\n          }, this)\n        }, value._id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 15\n        }, this);\n      }), data.length <= 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center w-full text-gray-500 text-2xl font-bold\",\n        children: \"No data Found!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 32\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CardList, \"PqRB7++Es8gdIco/6cKEX+qef4Y=\");\n\n_c = CardList;\n\nvar _c;\n\n$RefreshReg$(_c, \"CardList\");","map":{"version":3,"sources":["/Users/purnashishazra/simple-node-crud-server/simple-node-crud-client/src/components/CardList.jsx"],"names":["React","useState","useEffect","useRef","Card","Loading","CardList","page","Maindata","setMaindata","setcount","data","setdata","isloading","setisloading","prevPage","length","current","FetchData","res","fetch","result","json","success","images","pages","map","value","_id","ImgName","ImgURL","ImgDetails"],"mappings":";;;AAAA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,OAAP,MAAoB,qBAApB;;AAEA,eAAe,SAASC,QAAT,OAAkE;AAAA;;AAAA,MAA/C;AAAEC,IAAAA,IAAI,GAAG,CAAT;AAAYC,IAAAA,QAAZ;AAAsBC,IAAAA,WAAtB;AAAmCC,IAAAA;AAAnC,GAA+C;AAC/E,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAMc,QAAQ,GAAGZ,MAAM,CAACI,IAAD,CAAvB;AACAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIM,QAAQ,CAACQ,MAAT,GAAkB,CAAlB,IAAuBD,QAAQ,CAACE,OAAT,KAAqBV,IAAhD,EAAsD;AACpDK,MAAAA,OAAO,CAACJ,QAAD,CAAP;AACD,KAFD,MAEO;AACLO,MAAAA,QAAQ,CAACE,OAAT,GAAmBV,IAAnB;AACAW,MAAAA,SAAS;AACV;AACF,GAPQ,EAON,CAACV,QAAD,EAAWD,IAAX,CAPM,CAAT;AASAL,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIS,IAAI,CAACK,MAAL,IAAe,CAAnB,EAAsB;AACtBP,IAAAA,WAAW,CAACE,IAAD,CAAX;AACD,GAHQ,EAGN,CAACA,IAAD,CAHM,CAAT;;AAKA,QAAMO,SAAS,GAAG,YAAY;AAC5BJ,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACA,UAAMK,GAAG,GAAG,MAAMC,KAAK,CAAE,iDAAgDb,IAAK,EAAvD,CAAvB;AACA,UAAMc,MAAM,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAArB;;AACA,QAAID,MAAM,CAACE,OAAX,EAAoB;AAClBX,MAAAA,OAAO,CAACS,MAAM,CAACG,MAAR,CAAP;AACAd,MAAAA,QAAQ,CAACW,MAAM,CAACI,KAAR,CAAR;AACD;;AACDX,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,GATD;;AAWA,MAAID,SAAJ,EAAe;AACb,wBAAQ;AAAK,MAAA,SAAS,EAAC,wDAAf;AAAA,6BACJ,QAAC,OAAD;AAAS,QAAA,IAAI,EAAC;AAAd;AAAA;AAAA;AAAA;AAAA;AADI;AAAA;AAAA;AAAA;AAAA,YAAR;AAID;;AAED,sBACE;AAAK,IAAA,SAAS,EAAC,uCAAf;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA,iBACGF,IAAI,CAACK,MAAL,GAAc,CAAd,IACCL,IAAI,CAACe,GAAL,CAAUC,KAAD,IAAW;AAClB,4BACE;AAAA,iCACE,QAAC,IAAD;AACA,YAAA,EAAE,EAAEA,KAAK,CAACC,GADV;AAEA,YAAA,IAAI,EAAED,KAAK,CAACE,OAFZ;AAGA,YAAA,KAAK,EAAEF,KAAK,CAACG,MAHb;AAIA,YAAA,MAAM,EAAEH,KAAK,CAACI;AAJd;AAAA;AAAA;AAAA;AAAA;AADF,WAAUJ,KAAK,CAACC,GAAhB;AAAA;AAAA;AAAA;AAAA,gBADF;AAUD,OAXD,CAFJ,EAcKjB,IAAI,CAACK,MAAL,IAAe,CAAf,iBAAoB;AAAK,QAAA,SAAS,EAAC,6DAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAdzB;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAoBD;;GAxDuBV,Q;;KAAAA,Q","sourcesContent":["/* eslint-disable react/prop-types */\nimport React, { useState, useEffect, useRef } from 'react';\nimport Card from '../elements/Card';\nimport Loading from '../elements/Loading';\n\nexport default function CardList ({ page = 1, Maindata, setMaindata, setcount }) {\n  const [data, setdata] = useState([]);\n  const [isloading, setisloading] = useState(false)\n  const prevPage = useRef(page);\n  useEffect(() => {\n    if (Maindata.length > 0 && prevPage.current === page) {\n      setdata(Maindata);\n    } else {\n      prevPage.current = page;\n      FetchData();\n    }\n  }, [Maindata, page]);\n\n  useEffect(() => {\n    if (data.length <= 0) return;\n    setMaindata(data);\n  }, [data])\n\n  const FetchData = async () => {\n    setisloading(true);\n    const res = await fetch(`https://backend-lobrockyl.herokuapp.com/?page=${page}`);\n    const result = await res.json();\n    if (result.success) {\n      setdata(result.images);\n      setcount(result.pages)\n    }\n    setisloading(false);\n  };\n\n  if (isloading) {\n    return (<div className=\"flex items-center justify-center border-2 min-h-screen\">\n        <Loading text=\"Loading Images\" />\n    </div>\n    )\n  }\n\n  return (\n    <div className='container my-12 mx-auto px-4 md:px-12'>\n      <div className='grid grid-cols-3 '>\n        {data.length > 0 &&\n          data.map((value) => {\n            return (\n              <div key={value._id}>\n                <Card\n                id={value._id}\n                name={value.ImgName}\n                image={value.ImgURL}\n                detail={value.ImgDetails}\n              />\n              </div>\n            );\n          })}\n          {data.length <= 0 && <div className='flex justify-center w-full text-gray-500 text-2xl font-bold'>No data Found!</div>}\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}